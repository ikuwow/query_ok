language: ruby

sudo: false

rvm:
  - 2.2.8
  - 2.3.5
  - 2.4.2

cache: bundler

script:
  - bundle exec middleman build
after_script:
  - "[[ $TRAVIS_BRANCH = 'master' ]] && [[ $TRAVIS_RUBY_VERSION = '2.4.2' ]] && bundle exec middleman s3_sync"

notifications:
  email: false
